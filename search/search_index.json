{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Poc des connaissances Devops L'id\u00e9e de ce POC \u00e0 pour but de tester les comp\u00e9tences devops d'un collaborateur cette documentation \u00e0 pour but d'\u00e9voluer au fur et a mesur de l'apprentissage Commandes utilis\u00e9es pendant le projet brew install python - Create a new project. pipenv lock - Start the live-reloading docs server. pipenv sync --dev - Build the documentation site. pipenv shell - pipenv run serve - mkdocs new madoc - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. brew cask install virtualbox brew cask install vagrant vagrant plugin list vagrant box list vagrant init (nomdelabox) vagrant.configure(\"2\") do |config| config.vm.box = \"ubuntu2\" vagrant up vagrant ssh pour se connecter \u00e0 la vm cr\u00e9\u00e9 Brew install ansible ansible --version Tree git config --global user.name \"user\" git config --global user.email \"@mail\" git init git remote add origin https://gitlab.com/@mail/nom.git git add . git commit -m \"commentaire\" git push -u origin master git push","title":"Home"},{"location":"#poc-des-connaissances-devops","text":"L'id\u00e9e de ce POC \u00e0 pour but de tester les comp\u00e9tences devops d'un collaborateur cette documentation \u00e0 pour but d'\u00e9voluer au fur et a mesur de l'apprentissage","title":"Poc des connaissances Devops"},{"location":"#commandes-utilisees-pendant-le-projet","text":"brew install python - Create a new project. pipenv lock - Start the live-reloading docs server. pipenv sync --dev - Build the documentation site. pipenv shell - pipenv run serve - mkdocs new madoc - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. brew cask install virtualbox brew cask install vagrant vagrant plugin list vagrant box list vagrant init (nomdelabox) vagrant.configure(\"2\") do |config| config.vm.box = \"ubuntu2\" vagrant up vagrant ssh pour se connecter \u00e0 la vm cr\u00e9\u00e9 Brew install ansible ansible --version Tree git config --global user.name \"user\" git config --global user.email \"@mail\" git init git remote add origin https://gitlab.com/@mail/nom.git git add . git commit -m \"commentaire\" git push -u origin master git push","title":"Commandes utilis\u00e9es pendant le projet"},{"location":"Ansible/","text":"Ansible ### Introduction: Brew install ansible (pyp3env-ansible) samirhammouti@MacBook-Pro-de-samir ubuntu % ansible --version ansible 2.10.5 config file = /Users/samirhammouti/Projet/ubuntu/ansible.cfg configured module search path = ['/Users/samirhammouti/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/Cellar/ansible/2.10.6/libexec/lib/python3.9/site-packages/ansible executable location = /usr/local/bin/ansible python version = 3.9.1 (default, Feb 1 2021, 20:42:01) [Clang 12.0.0 (clang-1200.0.32.29)]","title":"Ansible"},{"location":"Ansible/#ansible","text":"### Introduction: Brew install ansible (pyp3env-ansible) samirhammouti@MacBook-Pro-de-samir ubuntu % ansible --version ansible 2.10.5 config file = /Users/samirhammouti/Projet/ubuntu/ansible.cfg configured module search path = ['/Users/samirhammouti/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/Cellar/ansible/2.10.6/libexec/lib/python3.9/site-packages/ansible executable location = /usr/local/bin/ansible python version = 3.9.1 (default, Feb 1 2021, 20:42:01) [Clang 12.0.0 (clang-1200.0.32.29)]","title":"Ansible"},{"location":"Conclusion/","text":"Conclusion Cr\u00e9er une documentation avec mkdocs - Ok. r\u00e9ation d\u2019une machine virtuelle - Ok. Ecrire le playbook de provisionnement - Le plus compliqu\u00e9 dans le playbook de provisionnement c'\u00e9tait de faire la part des choses entre Ansible / Vagrant / Ma machine et ma VM des probl\u00e8mes de connexion SSH notement par rapport \u00e0 l'utilisateur qui se connecter (vagrant) pour le playbook de provisionement j'ai simplement copier mon home vers la vm \u00e7a r\u00e9pond\u00e9 une partie \u00e0 la question je pense. Ecriture des tests d\u2019un r\u00f4le apache - C'\u00e9tait assez compliqu\u00e9, la notion de r\u00f4les a \u00e9t\u00e9 tr\u00e8s compliqu\u00e9 \u00e0 assimiler. entre playbook et r\u00f4les je ne comprenais pas. j'ai malgr\u00e9 tout une notion beaucoup plus claire et l'\u00e9tendu de la fonctionnalit\u00e9 une fois maitris\u00e9. j'ai r\u00e9ussi \u00e0 cr\u00e9e un role d'installation apache Ecrire un playbook utilisant le r\u00f4le apache - J'ai compris beaucoup trop tard pour commencer \u00e0 produire quelques choses de viable. Ecrire un Dockerfile - Lors de mon PT j'ai eu du mal \u00e0 comprendre la cohabitation entre mon Mac OS / Homebrew / et Pipenv lors du building de mon Dockerfiles pour le test j'ai des errreurs de d\u00e9pendance. (j'\u00e9tais pas dans mon pipenv) . Je n'ai vraiment pas l'habitude de r\u00e9diger des proc\u00e9dures sous cette formes.","title":"Conclusion"},{"location":"Conclusion/#conclusion","text":"Cr\u00e9er une documentation avec mkdocs - Ok. r\u00e9ation d\u2019une machine virtuelle - Ok. Ecrire le playbook de provisionnement - Le plus compliqu\u00e9 dans le playbook de provisionnement c'\u00e9tait de faire la part des choses entre Ansible / Vagrant / Ma machine et ma VM des probl\u00e8mes de connexion SSH notement par rapport \u00e0 l'utilisateur qui se connecter (vagrant) pour le playbook de provisionement j'ai simplement copier mon home vers la vm \u00e7a r\u00e9pond\u00e9 une partie \u00e0 la question je pense. Ecriture des tests d\u2019un r\u00f4le apache - C'\u00e9tait assez compliqu\u00e9, la notion de r\u00f4les a \u00e9t\u00e9 tr\u00e8s compliqu\u00e9 \u00e0 assimiler. entre playbook et r\u00f4les je ne comprenais pas. j'ai malgr\u00e9 tout une notion beaucoup plus claire et l'\u00e9tendu de la fonctionnalit\u00e9 une fois maitris\u00e9. j'ai r\u00e9ussi \u00e0 cr\u00e9e un role d'installation apache Ecrire un playbook utilisant le r\u00f4le apache - J'ai compris beaucoup trop tard pour commencer \u00e0 produire quelques choses de viable. Ecrire un Dockerfile - Lors de mon PT j'ai eu du mal \u00e0 comprendre la cohabitation entre mon Mac OS / Homebrew / et Pipenv lors du building de mon Dockerfiles pour le test j'ai des errreurs de d\u00e9pendance. (j'\u00e9tais pas dans mon pipenv) . Je n'ai vraiment pas l'habitude de r\u00e9diger des proc\u00e9dures sous cette formes.","title":"Conclusion"},{"location":"Docker/","text":"Docker J'ai cr\u00e9\u00e9 qu'un fichier Dockerfiles l'id\u00e9e \u00e9tait de cr\u00e9e un fichier Dockerfiles avec une distrib alpine 3.13 et y faire tourner notre site","title":"Docker"},{"location":"Docker/#docker","text":"J'ai cr\u00e9\u00e9 qu'un fichier Dockerfiles l'id\u00e9e \u00e9tait de cr\u00e9e un fichier Dockerfiles avec une distrib alpine 3.13 et y faire tourner notre site","title":"Docker"},{"location":"Git/","text":"Git Cr\u00e9er un compte gitlab Cr\u00e9er un nouveau projet git config --global user.name \"K2 Sunshine\" (K2 2eme plus grand sommet du monde) git config --global user.email \"hammouti.samir@gmail.com\" on se met \u00e0 la racine du dossier qu'on veut push cd /Users/samirhammouti/Projet git init git remote add origin https://gitlab.com/hammouti.samir/poc.git git add . git commit -m \"commentaire\" git push -u origin master https://gitlab.com/hammouti.samir/poc Si vous avez mis \u00e0 jour le fichier sur votre poste et que vous voulez renvoyer les informations au repo git * git add . * git commit -m \"commentaire\" * git push","title":"Git"},{"location":"Git/#git","text":"Cr\u00e9er un compte gitlab Cr\u00e9er un nouveau projet git config --global user.name \"K2 Sunshine\" (K2 2eme plus grand sommet du monde) git config --global user.email \"hammouti.samir@gmail.com\" on se met \u00e0 la racine du dossier qu'on veut push cd /Users/samirhammouti/Projet git init git remote add origin https://gitlab.com/hammouti.samir/poc.git git add . git commit -m \"commentaire\" git push -u origin master https://gitlab.com/hammouti.samir/poc Si vous avez mis \u00e0 jour le fichier sur votre poste et que vous voulez renvoyer les informations au repo git * git add . * git commit -m \"commentaire\" * git push","title":"Git"},{"location":"Handlers/","text":"tasks file for apache - name: install apache2 apt: name=apache2 update_cache=yes state=latest - name: \"Create docuement root\" file: path: \"/var/www/{{ ap_http_host_dir }}\" state: directory - name: \"Copy source html\" copy: src: \"/Users/samirhammouti/Projet/projet/site\" dest: \"/var/www/{{ ap_http_host_dir }}\"","title":"Handlers"},{"location":"Handlers/#tasks-file-for-apache","text":"- name: install apache2 apt: name=apache2 update_cache=yes state=latest - name: \"Create docuement root\" file: path: \"/var/www/{{ ap_http_host_dir }}\" state: directory - name: \"Copy source html\" copy: src: \"/Users/samirhammouti/Projet/projet/site\" dest: \"/var/www/{{ ap_http_host_dir }}\"","title":"tasks file for apache"},{"location":"Playbook/","text":"Playbook: Cr\u00e9ation de mon playbook d'install apache2 sur ma box ubuntu Je cr\u00e9e un playbook g\u00e9n\u00e9rique qui pourra servire \u00e0 d'autre installation autre qu'apache un playbook s'\u00e9crit en yaml et nous l'appellerons provision-playbook.yml name: \"installation\" become: true hosts: all user: vagrant roles: role: apache name: \"installation\" - Nom. become: true - bonne question. hosts: all - ce refere \u00e0 notre fichier hosts l\u00e0 nous utilison all pour cibl\u00e9 tout le fichier mais nous pourrons \u00eatre plus pr\u00e9cis sur un group de server. user: vagrant - c'est l'utilisateur qui va ce connecter \u00e0 la VM roles: - nous permettra d'affiner nos action - role: apache - ansible-galaxy apache pour nous g\u00e9n\u00e9r\u00e9s une architecture de fichier . Tree \u2514\u2500\u2500 apache \u251c\u2500\u2500 README.md \u251c\u2500\u2500 defaults \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 files \u251c\u2500\u2500 handlers \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 meta \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 tasks \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 templates \u2502 \u2514\u2500\u2500 apache.conf.j2 \u251c\u2500\u2500 tests \u2502 \u251c\u2500\u2500 hosts \u2502 \u251c\u2500\u2500 inventory \u2502 \u2514\u2500\u2500 test.yml \u2514\u2500\u2500 vars \u2514\u2500\u2500 main.yml ### Role: Une fois notre archi t\u00e9l\u00e9charger via ansible-galaxy nous allons pouvoir parametrer nos actions (tasks)","title":"Playbook"},{"location":"Playbook/#playbook","text":"Cr\u00e9ation de mon playbook d'install apache2 sur ma box ubuntu Je cr\u00e9e un playbook g\u00e9n\u00e9rique qui pourra servire \u00e0 d'autre installation autre qu'apache","title":"Playbook:"},{"location":"Playbook/#un-playbook-secrit-en-yaml-et-nous-lappellerons-provision-playbookyml","text":"name: \"installation\" become: true hosts: all user: vagrant roles: role: apache name: \"installation\" - Nom. become: true - bonne question. hosts: all - ce refere \u00e0 notre fichier hosts l\u00e0 nous utilison all pour cibl\u00e9 tout le fichier mais nous pourrons \u00eatre plus pr\u00e9cis sur un group de server. user: vagrant - c'est l'utilisateur qui va ce connecter \u00e0 la VM roles: - nous permettra d'affiner nos action - role: apache - ansible-galaxy apache pour nous g\u00e9n\u00e9r\u00e9s une architecture de fichier . Tree \u2514\u2500\u2500 apache \u251c\u2500\u2500 README.md \u251c\u2500\u2500 defaults \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 files \u251c\u2500\u2500 handlers \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 meta \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 tasks \u2502 \u2514\u2500\u2500 main.yml \u251c\u2500\u2500 templates \u2502 \u2514\u2500\u2500 apache.conf.j2 \u251c\u2500\u2500 tests \u2502 \u251c\u2500\u2500 hosts \u2502 \u251c\u2500\u2500 inventory \u2502 \u2514\u2500\u2500 test.yml \u2514\u2500\u2500 vars \u2514\u2500\u2500 main.yml ### Role: Une fois notre archi t\u00e9l\u00e9charger via ansible-galaxy nous allons pouvoir parametrer nos actions (tasks)","title":"un playbook s'\u00e9crit en yaml et nous l'appellerons provision-playbook.yml"},{"location":"Tasks/","text":"tasks file for apache - name: install apache2 apt: name=apache2 update_cache=yes state=latest - name: \"Create docuement root\" file: path: \"/var/www/{{ ap_http_host_dir }}\" state: directory - name: \"Copy source html\" copy: src: \"/Users/samirhammouti/Projet/projet/site\" dest: \"/var/www/{{ ap_http_host_dir }}\"","title":"Tasks"},{"location":"Tasks/#tasks-file-for-apache","text":"- name: install apache2 apt: name=apache2 update_cache=yes state=latest - name: \"Create docuement root\" file: path: \"/var/www/{{ ap_http_host_dir }}\" state: directory - name: \"Copy source html\" copy: src: \"/Users/samirhammouti/Projet/projet/site\" dest: \"/var/www/{{ ap_http_host_dir }}\"","title":"tasks file for apache"},{"location":"about/","text":"Pour le Rohan kor for the ice loxes hich","title":"About"},{"location":"vagrant/","text":"Vagrant ### Introduction: Vagrant est un des outils en ligne de commande qui permet de virtualiser rapidement des machines en utilisant la plupart des hyperviseurs comme HyperV, Libvirt, Parallels, VMWare et VirtualBox. Dans mon cas je vais devoir passer par homebrew pour l'installation. ### Installation: brew cask install virtualbox brew cask install vagrant il va falloir ajouter quelques plugin vagrant plugin list `vagrant-hostsupdater (1.2.1, global) vagrant-vbguest (0.28.0, global) Version Constraint: 0.28 vagrant-vbox-snapshot (0.0.10, global)` Une fois que vagrant est op\u00e9rationnel il va falloir lui attribu\u00e9 un OS qu'on appel box. vagrant box add ubuntu(nombox) https://app.vagrantup.com/ubuntu/boxes/trusty64/versions/20190514.0.0/providers/virtualbox.box si vous avez besoin d'ajouter une autre box il suffiera dans changer l'url par l'url de la nouvel box vagrant box list (pyp3env-ansible) samirhammouti@MacBook-Pro-de-samir ubuntu % vagrant box list centos/8 (virtualbox, 2011.0) oraclelinux/8 (virtualbox, 8.3.182) ubuntu/bionic64 (virtualbox, 20210129.0.0) ubuntu2 (virtualbox, 0) Il nous reste plus qu'a Initier le fichier de configuration Vagrant vagrant init (nomdelabox) vagrant init ubuntu2 A Vagrantfile has been placed in this directory. You are now ready to vagrant up your first virtual environment! Please read the comments in the Vagrantfile as well as documentation on vagrantup.com for more information on using Vagrant. ils nous reste plus qu'a parametrer notre fichier Vagrantfile vi Vagrantfile Ce fichier de configuration va nous permettre de : Choisir un hostname /cpu/ram///... \u00e0 nous d'ajouter les informations voulu configuration par defaut : vagrant.configure(\"2\") do |config| config.vm.box = \"ubuntu2\" configuration personnalis\u00e9 : Vagrantfile il nous reste qu'a lancer notre fichier Vagrantfile vagrant up vagrant ssh pour se connecter \u00e0 la vm cr\u00e9\u00e9 Un Vagrantfile par dossier Si vous voulez cr\u00e9e une 2eme VM avec une autre box ou la m\u00eame il faut cr\u00e9er un nouveau r\u00e9pertoire et reproduire l'op\u00e9ration","title":"Vagrant"},{"location":"vagrant/#vagrant","text":"### Introduction: Vagrant est un des outils en ligne de commande qui permet de virtualiser rapidement des machines en utilisant la plupart des hyperviseurs comme HyperV, Libvirt, Parallels, VMWare et VirtualBox. Dans mon cas je vais devoir passer par homebrew pour l'installation. ### Installation: brew cask install virtualbox brew cask install vagrant","title":"Vagrant"},{"location":"vagrant/#il-va-falloir-ajouter-quelques-plugin","text":"vagrant plugin list `vagrant-hostsupdater (1.2.1, global) vagrant-vbguest (0.28.0, global) Version Constraint: 0.28 vagrant-vbox-snapshot (0.0.10, global)` Une fois que vagrant est op\u00e9rationnel il va falloir lui attribu\u00e9 un OS qu'on appel box. vagrant box add ubuntu(nombox) https://app.vagrantup.com/ubuntu/boxes/trusty64/versions/20190514.0.0/providers/virtualbox.box si vous avez besoin d'ajouter une autre box il suffiera dans changer l'url par l'url de la nouvel box vagrant box list (pyp3env-ansible) samirhammouti@MacBook-Pro-de-samir ubuntu % vagrant box list centos/8 (virtualbox, 2011.0) oraclelinux/8 (virtualbox, 8.3.182) ubuntu/bionic64 (virtualbox, 20210129.0.0) ubuntu2 (virtualbox, 0) Il nous reste plus qu'a Initier le fichier de configuration Vagrant vagrant init (nomdelabox) vagrant init ubuntu2 A Vagrantfile has been placed in this directory. You are now ready to vagrant up your first virtual environment! Please read the comments in the Vagrantfile as well as documentation on vagrantup.com for more information on using Vagrant. ils nous reste plus qu'a parametrer notre fichier Vagrantfile vi Vagrantfile Ce fichier de configuration va nous permettre de : Choisir un hostname /cpu/ram///... \u00e0 nous d'ajouter les informations voulu configuration par defaut : vagrant.configure(\"2\") do |config| config.vm.box = \"ubuntu2\" configuration personnalis\u00e9 : Vagrantfile il nous reste qu'a lancer notre fichier Vagrantfile vagrant up vagrant ssh pour se connecter \u00e0 la vm cr\u00e9\u00e9 Un Vagrantfile par dossier Si vous voulez cr\u00e9e une 2eme VM avec une autre box ou la m\u00eame il faut cr\u00e9er un nouveau r\u00e9pertoire et reproduire l'op\u00e9ration","title":"il va falloir ajouter quelques plugin"}]}